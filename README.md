# 推箱子游戏 (Sokoban) 🎮

一个使用Python和Pygame开发的经典推箱子游戏，包含10个精心设计的关卡和完整的菜单系统。

![游戏截图](player.png)

[![Python](https://img.shields.io/badge/Python-3.x-blue.svg)](https://www.python.org/)
[![Pygame](https://img.shields.io/badge/Pygame-2.x-green.svg)](https://www.pygame.org/)
[![License](https://img.shields.io/badge/License-MIT-yellow.svg)](LICENSE)

## 🎯 游戏介绍

推箱子（Sokoban）是一个经典的益智游戏，玩家扮演仓库管理员，需要将所有箱子推到指定的目标位置上。游戏看似简单，但需要仔细规划每一步，避免将箱子推到无法移动的位置。
<img width="834" height="869" alt="image" src="https://github.com/user-attachments/assets/2ac0bb16-f362-4ee4-a9f1-77959020c73b" />
<img width="834" height="869" alt="image" src="https://github.com/user-attachments/assets/078b8b83-d415-44b1-9e35-69c0ce98434f" />

本游戏特色：
- 🎮 完整的菜单系统和关卡选择
- 🧩 10个难度递增的精心设计关卡
- 🎨 简洁美观的像素风格界面
- 🎵 流畅的游戏体验和即时反馈

## ✨ 功能特点

### 🎮 游戏系统
- 简洁美观的游戏界面
- 经典的推箱子玩法
- **10个不同难度的关卡**
- **完整的关卡选择系统**
- **主菜单导航系统**

### 🎯 游戏体验
- 流畅的键盘控制
- 实时胜利检测和提示
- 一键重置当前关卡
- 自动进入下一关功能
- ESC快速返回菜单

### 🛠️ 技术特性
- 基于Pygame的高性能渲染
- 状态机管理的界面切换
- 模块化的关卡数据结构
- 支持自定义关卡扩展

## 🚀 快速开始

### 📋 系统要求

- **Python**: 3.7 或更高版本
- **操作系统**: Windows / macOS / Linux
- **内存**: 最少 100MB 可用内存
- **显示**: 支持 540x540 分辨率

### 📦 安装步骤

1. **克隆仓库**
```bash
git clone https://github.com/yourusername/py-ai-game-txz.git
cd py-ai-game-txz
```

2. **安装依赖**
```bash
pip install pygame
```

3. **运行游戏**
```bash
python txz.py
```

### 🐳 Docker 运行（可选）
```bash
# 构建镜像
docker build -t sokoban-game .

# 运行容器
docker run -it --rm sokoban-game
```

## 🎮 游戏操作

### 🚀 启动游戏

```bash
python txz.py
```

游戏启动后会显示主菜单，您可以选择：
- **开始游戏**：从第1关开始
- **选择关卡**：跳转到任意关卡
- **退出游戏**：关闭程序

### ⌨️ 控制说明

| 界面 | 按键 | 功能 |
|------|------|------|
| **主菜单** | ↑↓ | 选择菜单项 |
| | Enter | 确认选择 |
| **关卡选择** | ↑↓←→ | 选择关卡 |
| | Enter | 开始选中关卡 |
| | ESC | 返回主菜单 |
| **游戏中** | ↑↓←→ | 移动玩家 |
| | R | 重置当前关卡 |
| | ESC | 返回主菜单 |
| | Space | 胜利后进入下一关 |

### 💡 游戏技巧
- 🧠 **提前规划**：在移动前思考整体策略
- 🚫 **避免死角**：不要将箱子推到墙角
- 🔄 **善用重置**：遇到困难时及时重置关卡
- 📍 **记住目标**：时刻关注目标点的位置

## 📖 游戏规则

### 🎯 基本规则
- 🎯 **目标**：将所有箱子推到目标点上
- 👤 **移动**：玩家只能推箱子，不能拉箱子
- 📦 **限制**：一次只能推动一个箱子
- 🏆 **胜利**：当所有箱子都在目标点上时获胜

### 🚫 注意事项
- 箱子不能推到墙上
- 箱子不能推到其他箱子上
- 将箱子推到角落可能造成死局
- 合理规划路径是关键

## 🎮 关卡系统

游戏包含10个精心设计的关卡，难度逐步递增，每个关卡都有独特的挑战：

| 关卡 | 难度 | 特点 | 建议策略 |
|------|------|------|----------|
| 🟢 **第1关** | ⭐ | 入门级 - 3箱子布局 | 熟悉基本操作 |
| 🟢 **第2关** | ⭐ | 简单 - 直线排列 | 学习基本推理 |
| 🟡 **第3关** | ⭐⭐ | 基础推理 - 引入障碍 | 规划移动路径 |
| 🟡 **第4关** | ⭐⭐ | 路径规划 - 复杂墙体 | 空间思维训练 |
| 🟡 **第5关** | ⭐⭐⭐ | 狭窄通道 - 精确操作 | 谨慎每一步 |
| 🟠 **第6关** | ⭐⭐⭐ | 复杂布局 - 多层推理 | 分步骤解决 |
| 🟠 **第7关** | ⭐⭐⭐⭐ | 多步推理 - 策略规划 | 提前规划路线 |
| 🔴 **第8关** | ⭐⭐⭐⭐ | 陷阱关卡 - 易死局 | 避免死角陷阱 |
| 🔴 **第9关** | ⭐⭐⭐⭐⭐ | 高级策略 - 逻辑考验 | 深度思考 |
| 🔴 **第10关** | ⭐⭐⭐⭐⭐ | 大师级 - 完美执行 | 终极挑战 |

### 🏆 通关建议
- 🎯 **循序渐进**：按顺序完成关卡，逐步提升技能
- 🧠 **多次尝试**：复杂关卡需要多次尝试才能找到最优解
- 📝 **记录策略**：记住成功的解法，便于重玩

## 🛠️ 自定义开发

### 📝 自定义关卡

您可以通过修改 `txz.py` 文件中的 `levels` 数组来添加新关卡：

```python
# 在 levels 数组中添加新关卡
levels.append([
    "#########",
    "#       #",
    "# $ @ $ #",
    "#   .   #",
    "#########"
])
```

### 🎨 地图符号说明

| 符号 | 含义 | 描述 |
|------|------|------|
| `#` | 🧱 墙壁 | 不可通过的障碍物 |
| `@` | 👤 玩家 | 玩家起始位置 |
| `$` | 📦 箱子 | 需要推动的箱子 |
| `.` | 🎯 目标点 | 箱子的目标位置 |
| ` ` | 🟫 地板 | 可通过的空地（空格） |
| `*` | ✅ 箱子在目标点 | 箱子已正确放置 |
| `+` | 🎯 玩家在目标点 | 玩家站在目标点上 |

### 🎨 自定义样式

修改颜色和样式常量：
```python
# 在文件开头修改颜色定义
BACKGROUND = (40, 40, 80)      # 背景色
WALL_COLOR = (100, 60, 40)     # 墙壁色
PLAYER_COLOR = (30, 150, 200)  # 玩家色
BOX_COLOR = (200, 150, 40)     # 箱子色
TARGET_COLOR = (180, 80, 80)   # 目标点色
```

## 🤝 贡献指南

欢迎为项目做出贡献！您可以：

1. 🐛 **报告Bug**：在 Issues 中报告发现的问题
2. 💡 **提出建议**：分享您的改进想法
3. 🎮 **设计关卡**：提交新的关卡设计
4. 🔧 **代码贡献**：提交 Pull Request

### 📋 开发环境设置
```bash
# 克隆项目
git clone https://github.com/yourusername/py-ai-game-txz.git
cd py-ai-game-txz

# 安装开发依赖
pip install -r requirements.txt

# 运行测试
python -m pytest tests/
```

## 📊 项目统计

- 📁 **代码行数**: ~500 行
- 🎮 **关卡数量**: 10 个
- 🎯 **难度等级**: 5 个等级
- 🐍 **Python版本**: 3.7+
- 🎨 **依赖库**: Pygame 2.x

## 📄 许可证

本项目采用 [MIT 许可证](LICENSE) - 详见 LICENSE 文件

## 🙏 致谢

- 🎮 **Pygame 社区** - 提供优秀的游戏开发框架
- 🧩 **经典推箱子游戏开发者** - 提供游戏设计灵感
- 👥 **开源社区** - 持续的支持和贡献
- 🎯 **所有玩家和贡献者** - 让这个项目变得更好

---

<div align="center">

**🎮 享受游戏，挑战自我！🎮**

[⭐ 给个星星](https://github.com/yourusername/py-ai-game-txz) • [🐛 报告问题](https://github.com/yourusername/py-ai-game-txz/issues) • [💡 功能建议](https://github.com/yourusername/py-ai-game-txz/discussions)

</div>
